import{a as $}from"./chunk-XWQMQBKZ.js";import{B as r,G as s,H as d,J as a,K as i,M as h,N as b,O as v,P as S,Q as c,R as P,S as m,T as E,V as F,X as u,Y as g,Z as I,_ as k,c as f,ea as O,fa as T,ga as Y,ha as w,na as B,q as y,r as _,v as C,w as x}from"./chunk-2RCRP7FV.js";var D=[2020,2021,2022,2023,2024,2025,2026,2027,2028,2029,2030];function H(t,p){if(t&1){let e=h();a(0,"button",5),b("click",function(){let n=C(e).$implicit,l=v();return x(l.onYearChange(n))}),c(1),i()}if(t&2){let e=p.$implicit;r(),m(" ",e," ")}}function j(t,p){if(t&1&&(a(0,"li",7)(1,"h3"),c(2),i(),a(3,"p"),c(4),u(5,"date"),i(),a(6,"p"),c(7),i()()),t&2){let e=p.$implicit;r(2),P(e.localName),r(2),m("Date: ",I(5,3,e.date,"fullDate"),""),r(3),m("Type: ",e.types.join(", "),"")}}function N(t,p){if(t&1&&(a(0,"ul"),s(1,j,8,6,"li",6),i()),t&2){let e=p.ngIf;r(),d("ngForOf",e)}}function V(t,p){t&1&&(a(0,"p"),c(1,"Loading holidays..."),i())}var U=(()=>{class t{countriesService=y($);route=y(B);holidays$=new f;selectedYear=new Date().getFullYear();years=D;ngOnInit(){this.getHolidays()}getHolidays(e){this.route.params.subscribe(o=>{let n=o.code,l=this.selectedYear.toString();n&&(e&&(l=e),this.holidays$=this.countriesService.getHolidays(n,l))})}onYearChange(e){this.getHolidays(e.toString())}trackByYear(e,o){return o}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=_({type:t,selectors:[["app-country-page"]],standalone:!0,features:[F],decls:10,vars:10,consts:[["loading",""],[1,"country-holidays"],[1,"year-switcher"],["class","year-button",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf","ngIfElse"],[1,"year-button",3,"click"],["class","holiday-item",4,"ngFor","ngForOf"],[1,"holiday-item"]],template:function(o,n){if(o&1&&(a(0,"div",1)(1,"h2"),c(2),u(3,"async"),i(),a(4,"div",2),s(5,H,2,1,"button",3),i(),s(6,N,2,1,"ul",4),u(7,"async"),s(8,V,2,0,"ng-template",null,0,k),i()),o&2){let l,M=S(9);r(2),E("Holidays for ",(l=g(3,6,n.holidays$))==null||l[0]==null?null:l[0].countryCode," in ",n.selectedYear,""),r(3),d("ngForOf",n.years)("ngForTrackBy",n.trackByYear),r(),d("ngIf",g(7,8,n.holidays$))("ngIfElse",M)}},dependencies:[T,Y,w,O],styles:[".country-holidays[_ngcontent-%COMP%]{margin:0 auto;padding:20px;border:1px solid #ddd;border-radius:5px}.year-switcher[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:15px}.year-button[_ngcontent-%COMP%]{margin:0 5px;padding:5px 10px;border:1px solid #ccc;border-radius:3px;cursor:pointer;background-color:#f2f2f2;color:#333;transition:background-color .2s ease}.year-button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}"]})}return t})();export{U as CountryPageComponent};
